{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 65, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Work/Code/Project/RiceInspectionApp/frontend/pages/create-inspection.js"],"sourcesContent":["// frontend/pages/create-inspection.js\r\nimport { useEffect, useState} from 'react';\r\nimport axios from 'axios';\r\nimport StandardDropdown from '../components/StandardDropdown'\r\n\r\nexport default function CreateInspection() {\r\n\r\n  const [form, setForm] = useState({\r\n    name: '',\r\n    standard: '',\r\n    note: '',\r\n    price: '',\r\n    samplingPoint: [],\r\n    samplingDate: '',\r\n    file: null,\r\n  });\r\n  const [selectedStandard, setSelectedStandard] = useState('');\r\n  const samplingPoints = ['Front End', 'Back End', 'Other'];\r\n\r\n  const handleChange = (e) => {\r\n    const { name, value, type } = e.target;\r\n    console.log('Input field changed:', { name, value, type });\r\n    setForm((prevForm) => ({\r\n      ...prevForm,\r\n      [name]: type === 'number' ? parseFloat(value) || '' : value,\r\n    }));\r\n\r\n  };\r\n\r\n  const handleCheckboxChange = (point) => {\r\n    console.log(point)\r\n    setForm((prevForm) => ({\r\n      ...prevForm,\r\n      samplingPoint: prevForm.samplingPoint.includes(point)\r\n        ? prevForm.samplingPoint.filter((p) => p !== point)\r\n        : [...prevForm.samplingPoint, point],\r\n    }));\r\n  };\r\n\r\n  const handleFileChange = (e) => {\r\n    setForm((prevForm) => ({\r\n      ...prevForm,\r\n      file: e.target.files[0],\r\n    }));\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n\r\n    const formData = new FormData();\r\n    formData.append('name', form.name);\r\n    formData.append('createDate', new Date().toISOString());\r\n    formData.append('standardID', form.standard);\r\n    formData.append('note', form.note);\r\n    formData.append('standardName', selectedStandard);\r\n    formData.append('samplingDate', form.samplingDate);\r\n    formData.append('samplingPoint', form.samplingPoint);\r\n    formData.append('price', form.price)\r\n\r\n    if (form.file) {\r\n      formData.append('file', form.file);\r\n    }\r\n    console.log(form)\r\n    try {\r\n      const response = await axios.post('http://localhost:8000/api/history', formData, {\r\n        headers: {\r\n          'Content-Type': 'multipart/form-data'\r\n        }\r\n      })\r\n      if (response.status === 201) {\r\n        console.log('Data save', response.data)\r\n      }\r\n    } catch (err) {\r\n      console.error('Error submitting form', err)\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <h1>Create Inspection</h1>\r\n      <form onSubmit={handleSubmit}>\r\n        {/* Name */}\r\n        <label>\r\n          Name*\r\n          <br />\r\n          <input\r\n            type=\"text\"\r\n            name=\"name\"\r\n            value={form.name}\r\n            onChange={handleChange}\r\n            placeholder='Please Holder'\r\n            required\r\n          />\r\n        </label>\r\n        <br />\r\n\r\n        {/* Standard */}\r\n        <label htmlFor=\"standard\">Standard*</label><br />\r\n        <select\r\n          id=\"standard\"\r\n          name='standard'\r\n          required\r\n          onChange={(e) => setSelectedStandard(e.target.value)}\r\n        >\r\n          <option value=\"\">Please Select Standard</option>\r\n          {standards.map((standard) => (\r\n            <option key={standard.id} value={standard.id}>\r\n              {standard.name}\r\n            </option>\r\n          ))}\r\n        </select>\r\n\r\n        <br />\r\n\r\n        {/* File Upload */}\r\n        <label>\r\n          Upload File:\r\n          <input\r\n            type=\"file\"\r\n            accept=\".json\"\r\n            onChange={handleFileChange}\r\n            placeholder='raw1.json'\r\n          />\r\n        </label>\r\n        <br />\r\n        {/* Note */}\r\n        <label>\r\n          Note:\r\n          <input\r\n            type=\"text\"\r\n            name=\"note\"\r\n            value={form.note}\r\n            onChange={handleChange}\r\n          />\r\n        </label>\r\n        <br />\r\n\r\n        {/* Price Field */}\r\n        <label>\r\n          Price:\r\n          <input\r\n            type=\"number\"\r\n            name=\"price\"\r\n            value={form.price}\r\n            placeholder='10,000'\r\n            min=\"0\"\r\n            max=\"100000\"\r\n            step=\"0.01\"\r\n            onChange={handleChange}\r\n          />\r\n          <small> (0 - 100,000, up to 2 decimal places)</small>\r\n        </label>\r\n        <br />\r\n\r\n        {/* Sampling Point Checkboxes */}\r\n        <fieldset>\r\n          <legend>Sampling Point:</legend>\r\n          {samplingPoints.map((point) => (\r\n            <label key={point}>\r\n              <input\r\n                type=\"checkbox\"\r\n                value={point}\r\n                checked={form.samplingPoint.includes(point)}\r\n                onChange={() => handleCheckboxChange(point)}\r\n              />\r\n              {point}\r\n            </label>\r\n          ))}\r\n        </fieldset>\r\n        <br />\r\n\r\n        {/* Sampling Date/Time */}\r\n        <label>\r\n          Date/Time of Sampling\r\n          <br />\r\n          <input\r\n            type=\"datetime-local\"\r\n            name=\"samplingDate\"\r\n            value={form.samplingDate}\r\n            onChange={handleChange}\r\n          />\r\n        </label>\r\n        <br />\r\n        {/* Submit Button */}\r\n        <button type=\"submit\">Submit</button>\r\n      </form>\r\n    </div>\r\n  );\r\n}"],"names":[],"mappings":"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"}},
    {"offset": {"line": 414, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}