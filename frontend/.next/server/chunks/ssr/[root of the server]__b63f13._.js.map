{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 97, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Work/Code/Project/RiceInspectionApp/frontend/src/components/header.js"],"sourcesContent":["import { useRouter } from 'next/router';\r\n\r\nexport default function Header() {\r\n  const router = useRouter();\r\n\r\n  const navigateToCreateInspection = () => {\r\n    router.push('/create-inspection');\r\n  };\r\n\r\n  const navigateToHistory = () => {\r\n    router.push('/history');\r\n  };\r\n\r\n  return (\r\n    <header className=\"flex justify-between items-center p-4 bg-gray-200 border-b border-gray-300\">\r\n      <div className=\"flex-1\">\r\n        <h1 className=\"text-xl font-bold text-black\">EASYRICE TEST</h1>\r\n      </div>\r\n      <div className=\"flex gap-4\">\r\n        <button\r\n          onClick={navigateToCreateInspection}\r\n          className=\"px-4 py-2 text-white bg-green-500 rounded-lg hover:bg-green-600 transition\"\r\n        >\r\n          Create Inspection\r\n        </button>\r\n        <button\r\n          onClick={navigateToHistory}\r\n          className=\"px-4 py-2 text-white bg-blue-500 rounded-lg hover:bg-blue-600 transition\"\r\n        >\r\n          History\r\n        </button>\r\n      </div>\r\n    </header>\r\n  );\r\n}"],"names":[],"mappings":";;;;AAAA;;;AAEe,SAAS;IACtB,MAAM,SAAS,CAAA,GAAA,uHAAA,CAAA,YAAS,AAAD;IAEvB,MAAM,6BAA6B;QACjC,OAAO,IAAI,CAAC;IACd;IAEA,MAAM,oBAAoB;QACxB,OAAO,IAAI,CAAC;IACd;IAEA,qBACE,uIAAC;QAAO,WAAU;;0BAChB,uIAAC;gBAAI,WAAU;0BACb,cAAA,uIAAC;oBAAG,WAAU;8BAA+B;;;;;;;;;;;0BAE/C,uIAAC;gBAAI,WAAU;;kCACb,uIAAC;wBACC,SAAS;wBACT,WAAU;kCACX;;;;;;kCAGD,uIAAC;wBACC,SAAS;wBACT,WAAU;kCACX;;;;;;;;;;;;;;;;;;AAMT"}},
    {"offset": {"line": 164, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 170, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Work/Code/Project/RiceInspectionApp/frontend/src/pages/history.js"],"sourcesContent":["// pages/history.js\r\nimport { useState, useEffect } from 'react';\r\nimport { useRouter } from 'next/router';\r\nimport axios from 'axios';\r\nimport Link from 'next/link';\r\nimport { GoChevronLeft } from 'react-icons/go'\r\nimport { GoChevronRight } from 'react-icons/go'\r\nimport Headers from '../components/header'\r\nimport '../app/globals.css'\r\n\r\n\r\nconst HistoryPage = () => {\r\n    const router = useRouter();\r\n    const [history, setHistory] = useState([]);\r\n    const [totalPages, setTotalPages] = useState(1);\r\n    const [page, setPage] = useState(1);\r\n    const [searchId, setSearchId] = useState('');\r\n    const [fromDate, setFromDate] = useState('');\r\n    const [toDate, setToDate] = useState('');\r\n    const [selectedItems, setSelectedItems] = useState([]);\r\n\r\n    // ดึงข้อมูล history\r\n    const fetchHistory = async () => {\r\n        try {\r\n            const res = await axios.get(`http://localhost:8000/history`, {\r\n                params: { page, searchId, formDate: fromDate, toDate }\r\n            });\r\n            setHistory(res.data.history);\r\n            setTotalPages(res.data.totalPages);\r\n        } catch (error) {\r\n            console.error('Error fetching history:', error);\r\n        }\r\n    };\r\n\r\n    // เรียกใช้เมื่อหน้าต่างโหลดหรือมีการเปลี่ยนแปลงข้อมูล\r\n    useEffect(() => {\r\n        fetchHistory();\r\n    }, [page, searchId, fromDate, toDate]);\r\n\r\n    const handleSearch = () => {\r\n        setPage(1); // รีเซ็ตไปยังหน้าที่ 1 เมื่อมีการค้นหาใหม่\r\n        fetchHistory();\r\n    };\r\n    const handleCheckboxChange = (inspectionId) => {\r\n        setSelectedItems((prevSelected) =>\r\n            prevSelected.includes(inspectionId)\r\n                ? prevSelected.filter((id) => id !== inspectionId)\r\n                : [...prevSelected, inspectionId]\r\n        );\r\n    };\r\n    const handleClear = () => {\r\n        setSearchId('');\r\n        setFromDate('');\r\n        setToDate('');\r\n        setPage(1);\r\n        fetchHistory();\r\n    };\r\n\r\n    const handleRowClick = (inspectionId) => {\r\n        router.push(`/result/${inspectionId}`);\r\n    };\r\n    const handleDelete = async () => {\r\n        try {\r\n            await Promise.all(\r\n                selectedItems.map((inspectionID) => axios.delete(`http://localhost:8000/history/${inspectionID}`))\r\n            );\r\n            setSelectedItems([]);\r\n            fetchHistory();\r\n        } catch (err) {\r\n            console.error('Error delete items: ', err.message)\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <Headers />\r\n            <div className=' p-8 text-black'>\r\n                <div className=\"p-8 text-black max-w-[1332px] h-auto mx-auto\">\r\n                    <div className=\"flex justify-end space-x-2 mb-4\">\r\n                        <button className='bg-green-600 hover:bg-green-700 text-white font-semibold py-2 px-4 rounded' onClick={() => router.push('/create-inspection')}>+ Create Inspection</button>\r\n                    </div>\r\n                    {/* Search Form */}\r\n                    <div className=\"bg-white p-4 rounded-md shadow mb-4\">\r\n                        <div className=\"flex justify-between items-center mb-4\">\r\n                            <div className=\"flex space-x-4 w-full\">\r\n                                <div className=\"flex-1\">\r\n                                    <label className=\"block font-semibold text-gray-700\">ID</label>\r\n                                    <input\r\n                                        type=\"text\"\r\n                                        value={searchId}\r\n                                        onChange={(e) => setSearchId(e.target.value)}\r\n                                        placeholder=\"Search by Inspection ID\"\r\n                                        className=\"border border-gray-300 rounded-md w-full p-2 mt-1 focus:ring-green-500 focus:border-green-500\"\r\n                                    />\r\n                                </div>\r\n                                <div className=\"flex-1\">\r\n                                    <label className=\"block font-semibold text-gray-700\">From Date</label>\r\n                                    <input\r\n                                        type=\"date\"\r\n                                        value={fromDate}\r\n                                        onChange={(e) => setFromDate(e.target.value)}\r\n                                        className=\"border border-gray-300 rounded-md w-full p-2 mt-1 focus:ring-green-500 focus:border-green-500\"\r\n                                    />\r\n                                </div>\r\n                                <div className=\"flex-1\">\r\n                                    <label className=\"block font-semibold text-gray-700\">To Date</label>\r\n                                    <input\r\n                                        type=\"date\"\r\n                                        value={toDate}\r\n                                        onChange={(e) => setToDate(e.target.value)}\r\n                                        className=\"border border-gray-300 rounded-md w-full p-2 mt-1 focus:ring-green-500 focus:border-green-500\"\r\n                                    />\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"flex justify-between\">\r\n                            <button\r\n                                onClick={handleClear}\r\n                                className=\"bg-gray-300 hover:bg-gray-400 text-gray-700 font-semibold py-2 px-4 rounded\"\r\n                            >\r\n                                Clear Filter\r\n                            </button>\r\n                            <button\r\n                                onClick={handleSearch}\r\n                                className=\"bg-green-600 hover:bg-green-700 text-white font-semibold py-2 px-4 rounded\"\r\n                            >\r\n                                Search\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"flex items-center justify-between mb-4\">\r\n                        <button\r\n                            onClick={handleDelete}\r\n                            disabled={selectedItems.length === 0}\r\n                            className=\"bg-red-600 hover:bg-red-700 text-white font-semibold py-2 px-4 rounded disabled:opacity-50\"\r\n                        >\r\n                            Delete\r\n                        </button>\r\n                        <span className=\"text-gray-700\">Selection items: {selectedItems.length} item(s)</span>\r\n                    </div>\r\n                    {/* Table */}\r\n                    <table className=\"w-full border border-gray-300 rounded-md shadow-md\">\r\n                        <thead className=\"bg-green-600 text-white\">\r\n                            <tr>\r\n                                <th></th>\r\n                                <th>Create Date - Time</th>\r\n                                <th>Inspection ID</th>\r\n                                <th>Name</th>\r\n                                <th>Standard</th>\r\n                                <th>Note</th>\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                            {history.map((item) => (\r\n                                <tr key={item.inspectionID} className=\"border-t border-gray-300 hover:bg-gray-100\">\r\n                                    <td className='p-2'>\r\n                                        <input\r\n                                            type=\"checkbox\"\r\n                                            checked={selectedItems.includes(item.inspectionID)}\r\n                                            onChange={() => handleCheckboxChange(item.inspectionID)}\r\n                                            className=\"focus:ring-green-500\"\r\n                                        />\r\n                                    </td>\r\n                                    <td className=\"p-2 cursor-pointer\" onClick={() => handleRowClick(item.inspectionID)}>{new Date(item.createDate).toLocaleString()}</td>\r\n                                    <td className=\"p-2 cursor-pointer\" onClick={() => handleRowClick(item.inspectionID)}>{item.inspectionID}</td>\r\n                                    <td className=\"p-2 cursor-pointer\" onClick={() => handleRowClick(item.inspectionID)}>{item.name}</td>\r\n                                    <td className=\"p-2 cursor-pointer\" onClick={() => handleRowClick(item.inspectionID)}>{item.standardName}</td>\r\n                                    <td className=\"p-2 cursor-pointer\" onClick={() => handleRowClick(item.inspectionID)}>{item.note}</td>\r\n                                </tr>\r\n                            ))}\r\n                        </tbody>\r\n                    </table>\r\n\r\n                    {/* Pagination */}\r\n                    <div className='flex items-start justify-between mt-4'>\r\n                        <div className=''>\r\n                            <span>{page} of {totalPages}</span>\r\n                            <button className='ml-2' onClick={() => setPage(page - 1)} disabled={page === 1}>\r\n                                <GoChevronLeft />\r\n                            </button>\r\n                            <button className='ml-2' onClick={() => setPage(page + 1)} disabled={page === totalPages}><GoChevronRight /></button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default HistoryPage;\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 666, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}